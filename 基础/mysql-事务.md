### 事务四大特性

分别是原子性、一致性、隔离性、持久性。

1.  原子性（Atomicity）：事务中所有操作是不可再分割的原子单位。事务中所有操作要么全部执行成功，要么全部执行失败。
2. 一致性（Consistency）：事务无论成功，还是失败，都必须保持事务内一致。当失败时，前面的操作都要进行回滚，不管中途的状态
3. 隔离性（Isolation）：隔离性是指在并发操作中，不同事务之间应该隔离开来，使每个并发中的事务不会相互干扰
4. 持久性（Durability）：一旦事务提交成功，事务中所有的数据操作都必须被持久化到数据库中，即使提交事务后，数据库马上崩溃，在数据库重启时，也必须能保证通过某种机制恢复数据



### 脏读

在一次事务中，读到了其他事务未提交的事务

### 不可重复读

在一次事务中，如果其他事务对数据进行操作并提交了，导致多次查询结果不一致，

### 幻读

在一个事务中，进行多次范围查询，如果其他事务插入一条数据 ，导致前后两次查询不一致得到的数据个数不一致



脏读 ，不可重复读 都针对一条数据

幻读针对一批数据 （范围查询）





### 事务的隔离级别五种

1. **NONE**
2. **读未提交（Read Uncommitted）**
3. **读提交（Read Committed）**
4. **可重复读（Repeatable Read）**
5. **串行化（Serializable）**



读未提交 Read Uncommitted : 允许脏读

读取到了其他事务未提交的数据



读提交（Read Committed）: 解决脏读--但会出现不可重复读

在同一事务中，别的事务提交了对数据的操作，导致前后查询不一致（不可重复读）



可重复读（Repeatable Read）：解决不可重复读，但会出现幻读

一个事务在前后两次查询同一个范围的时候（> < 这些查询），如果其他事务插入一条数据

前后两次查询不一致（幻读）



读提交：mvcc 每次select 都会产生一个 read-vied  所以每次select 都能读最新的

可重复读：mvcc  同一事务每次select 不会产生新的 read-vied   所以每次select 都能一致

幻读：mvcc  在范围查询的时候--其他事务插入一条数据 会影响到 read-vied   





